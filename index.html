<!DOCTYPE html>
<html b:css='false' b:js='false' b:defaultwidgetversion='2' b:layoutsVersion='3'>
<b:attr name='xmlns' value=''/>
<b:attr name='xmlns:b' value=''/>
<b:attr name='xmlns:expr' value=''/>
<b:attr name='xmlns:data' value=''/>
<head>
<script>
  (function() {
    if (location.search.length > 0) {
      var cleanUrl = location.protocol + "//" + location.host + location.pathname;
      // منع التكرار:
      if (location.href !== cleanUrl) {
        window.history.replaceState(null, '', cleanUrl);
      }
    }
  })();
</script>
  <b:include data='blog' name='all-head-content'/>
  <link rel="shortcut icon" href="https://i.top4top.io/p_34905ru1t0.png" type="image/x-icon" />
  <title>حكايتنا مسلسلات تركية</title>
  <meta name="description" content="حكايتنا - أفضل موقع لمشاهدة المسلسلات التركية مترجمة ومدبلجة بجودة عالية. تابع أحدث الحلقات من مسلسلاتك المفضلة مجاناً وبدون إعلانات مزعجة. مسلسلات دراما، أكشن، رومانسية، وكوميديا تركية"/>
  <meta name="keywords" content="مسلسلات تركية, حكايتنا, مسلسلات مترجمة, مسلسلات مدبلجة, مشاهدة مسلسلات تركية, أحدث المسلسلات التركية, مسلسلات 2025, دراما تركية, أكشن تركي, مسلسلات رومانسية تركية, مسلسلات كوميدية تركية, مسلسلات تركية اون لاين, موقع مسلسلات تركية"/>
  <meta name="author" content="حكايتنا"/>
  <meta name="robots" content="index, follow"/>
  <link rel="canonical" expr:href='data:blog.url'/>
  <meta property="og:title" content="حكايتنا - مسلسلات تركية مترجمة ومدبلجة بجودة عالية"/>
  <meta property="og:description" content="أفضل موقع لمشاهدة المسلسلات التركية مترجمة ومدبلجة بجودة عالية. تابع أحدث الحلقات من مسلسلاتك المفضلة مجاناً وبدون إعلانات مزعجة."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" expr:content='data:blog.url'/>
  <meta property="og:image" content="https://l.top4top.io/p_3472qtqft0.png"/> <meta property="og:site_name" content="حكايتنا"/>
  <meta property="og:locale" content="ar_AR"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@yourtwitterhandle"/> <meta name="twitter:creator" content="@yourtwitterhandle"/>
  <meta name="twitter:title" content="حكايتنا - مسلسلات تركية مترجمة ومدبلجة بجودة عالية"/>
  <meta name="twitter:description" content="أفضل موقع لمشاهدة المسلسلات التركية مترجمة ومدبلجة بجودة عالية. تابع أحدث الحلقات من مسلسلاتك المفضلة مجاناً وبدون إعلانات مزعجة."/>
  <meta name="twitter:image" content="https://l.top4top.io/p_3472qtqft0.png"/>
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "حكايتنا - مسلسلات تركية",
    // تم تعديل الرابط هنا إلى نطاقك الخاص
    "url": "https://hikaytna.my/",
    "potentialAction": {
      "@type": "SearchAction",
      // تم تعديل الرابط هنا إلى نطاقك الخاص
      "target": "https://hikaytna.my/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "description": "أفضل موقع لمشاهدة المسلسلات التركية مترجمة ومدبلجة بجودة عالية. تابع أحدث الحلقات من مسلسلاتك المفضلة مجاناً وبدون إعلانات مزعجة.",
    "publisher": {
      "@type": "Organization",
      "name": "حكايتنا"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "الرئيسية",
        // تم تعديل الرابط هنا إلى نطاقك الخاص
        "item": "https://hikaytna.my/"
      }
      ]
  }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js"></script>
  <b:skin><![CDATA[
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800;900&family=Poppins:wght@400;600;700&display=swap');
    :root {
        --primary-color: #ff3b3b; --secondary-color: #ff8c00; --dark-bg-main: #0a0a0a; --dark-bg-secondary: #1a1a1a;
        --card-bg: #1f1f1f; --section-bg: #2b2b2b; --text-light: #f0f0f0; --text-muted: #aaaaaa;
        --border-color: #444444; --shadow-dark: rgba(0,0,0,0.9); --shadow-light: rgba(0,0,0,0.6);
        --glow-primary: rgba(255, 59, 59, 0.7); --glow-secondary: rgba(255, 140, 0, 0.7);
        --header-gradient: linear-gradient(90deg, #8b0000, var(--primary-color));
        --body-gradient: linear-gradient(145deg, var(--dark-bg-main), #100000);
        --sidebar-gradient: linear-gradient(180deg, #1f0000, #000);
        --card-gradient: linear-gradient(145deg, #2a0000, #1a1a1a);
        --episodes-gradient: linear-gradient(180deg, #1a0000, #000);
        --episode-link-bg: #3a1111;
        --episode-link-hover-gradient: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        --new-episode-indicator-bg: linear-gradient(45deg, #00FF00, #00AA00);
        --new-episode-glow: rgba(0, 255, 0, 0.7);
    }
    body.blue-theme {
        --primary-color: #007bff; --secondary-color: #66afe9; --dark-bg-main: #101520; --dark-bg-secondary: #1a202c;
        --card-bg: #212d3b; --section-bg: #2c3e50; --text-light: #e0f2f7; --text-muted: #aab8c2;
        --border-color: #4a6572; --shadow-dark: rgba(0,0,0,0.8); --shadow-light: rgba(0,0,0,0.5);
        --glow-primary: rgba(0, 123, 255, 0.6); --glow-secondary: rgba(102, 175, 233, 0.6);
        --header-gradient: linear-gradient(90deg, #0056b3, var(--primary-color));
        --body-gradient: linear-gradient(145deg, var(--dark-bg-main), #080c10);
        --sidebar-gradient: linear-gradient(180deg, #152232, #0a1118);
        --card-gradient: linear-gradient(145deg, #1e283a, #151e2a);
        --episodes-gradient: linear-gradient(180deg, #1a2736, #0f1824);
        --episode-link-bg: #2d4154;
        --episode-link-hover-gradient: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        --new-episode-indicator-bg: linear-gradient(45deg, #28a745, #218838);
        --new-episode-glow: rgba(40, 167, 69, 0.7);
    }
    body.green-theme {
        --primary-color: #28a745; --secondary-color: #ffc107; --dark-bg-main: #1a1a1a; --dark-bg-secondary: #222222;
        --card-bg: #2c2c2c; --section-bg: #383838; --text-light: #e6e6e6; --text-muted: #b0b0b0;
        --border-color: #555555; --shadow-dark: rgba(0,0,0,0.85); --shadow-light: rgba(0,0,0,0.6);
        --glow-primary: rgba(40, 167, 69, 0.6); --glow-secondary: rgba(255, 193, 7, 0.6);
        --header-gradient: linear-gradient(90deg, #1f7b3a, var(--primary-color));
        --body-gradient: linear-gradient(145deg, var(--dark-bg-main), #151515);
        --sidebar-gradient: linear-gradient(180deg, #2a2a2a, #1a1a1a);
        --card-gradient: linear-gradient(145deg, #303030, #252525);
        --episodes-gradient: linear-gradient(180deg, #3a3a3a, #2a2a2a);
        --episode-link-bg: #4a4a4a;
        --episode-link-hover-gradient: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        --new-episode-indicator-bg: linear-gradient(45deg, #17a2b8, #138496);
        --new-episode-glow: rgba(23, 162, 184, 0.7);
    }
    body {
      background: var(--body-gradient); font-family: 'Cairo', sans-serif; color: var(--text-light); margin: 0;
      overflow-x: hidden; direction: rtl; min-height: 100vh; display: flex; flex-direction: column;
      text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; transition: background 0.6s ease;
    }
    #loader {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(135deg, #000, var(--dark-bg-main));
        display: flex; justify-content: center; align-items: center; z-index: 9999;
        flex-direction: column; transition: opacity 0.6s ease, visibility 0.6s ease;
    }
    .spinner {
        border: 5px solid rgba(255, 255, 255, 0.2); border-top: 5px solid var(--primary-color);
        border-radius: 50%; width: 60px; height: 60px;
        animation: spin 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        margin-bottom: 25px; box-shadow: 0 0 20px var(--glow-primary);
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    #loader p {
        color: var(--text-light); font-size: 20px; font-family: 'Poppins', sans-serif;
        text-shadow: 0 0 10px var(--glow-primary);
    }
    .header {
      background: var(--header-gradient); padding: 20px 25px; text-align: center; font-size: 32px;
      font-weight: 700; position: relative; z-index: 1002; box-shadow: 0 6px 20px var(--shadow-dark);
      letter-spacing: 2px; color: #fff; text-shadow: 0 0 15px rgba(255,255,255,0.8);
      border-bottom: 3px solid var(--secondary-color); transition: background 0.6s ease, border-color 0.6s ease;
    }
    .hamburger {
      position: fixed; top: 25px; right: 25px; width: 38px; height: 32px; cursor: pointer; z-index: 1100;
      display: flex; flex-direction: column; justify-content: space-between;
      transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      padding: 8px; border-radius: 10px; box-shadow: 0 0 18px var(--glow-primary);
    }
    .hamburger:hover { transform: scale(1.1); box-shadow: 0 0 25px var(--glow-secondary); }
    .hamburger span {
      display: block; height: 4px; background: #fff; border-radius: 3px; transition: 0.4s;
      box-shadow: 0 0 5px rgba(255,255,255,0.5);
    }
    .hamburger.open span:nth-child(1) { transform: rotate(45deg) translate(9px, 9px); }
    .hamburger.open span:nth-child(2) { opacity: 0; }
    .hamburger.open span:nth-child(3) { transform: rotate(-45deg) translate(9px, -9px); }
    .sidebar {
      position: fixed; top: 0; right: 0; width: 300px; height: 100vh; background: var(--sidebar-gradient);
      box-shadow: -10px 0 40px var(--shadow-dark); padding: 90px 30px 30px; transform: translateX(100%);
      transition: transform 0.7s cubic-bezier(0.86, 0, 0.07, 1), background 0.6s ease, border-color 0.6s ease;
      z-index: 1050; overflow-y: auto; will-change: transform; border-left: 5px solid var(--primary-color);
      box-sizing: border-box; display: flex; flex-direction: column;
    }
    .sidebar.open { transform: translateX(0); }
    .sidebar .close-btn {
      position: absolute; top: 30px; left: 30px; font-size: 45px; color: var(--secondary-color);
      cursor: pointer; transition: transform 0.4s ease, color 0.4s ease, background 0.4s ease;
      background: rgba(255, 255, 255, 0.15); border-radius: 50%; width: 50px; height: 50px;
      display: flex; justify-content: center; align-items: center; box-shadow: 0 0 15px var(--glow-secondary);
      text-shadow: 0 0 8px #fff;
    }
    .sidebar .close-btn:hover {
      transform: rotate(180deg) scale(1.15); color: #fff; background: var(--primary-color);
      box-shadow: 0 0 25px var(--glow-primary);
    }
    .sidebar-logo {
      width: 100%; max-width: 250px; display: block; margin: 0 auto 50px;
      filter: drop-shadow(0 0 20px var(--glow-primary));
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .sidebar-logo:hover { transform: scale(1.08); }
    .sidebar ul { list-style: none; padding: 0; margin: 50px 0 30px 0; flex-grow: 1; }
    .sidebar ul li { margin-bottom: 20px; }
    .sidebar ul li a {
      color: var(--text-light); text-decoration: none; font-size: 22px; display: flex;
      align-items: center; padding: 15px 25px; border-radius: 12px;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); font-weight: 700;
      background: rgba(255,255,255,0.08); box-shadow: 0 5px 15px var(--shadow-light);
      position: relative; overflow: hidden; border: 1px solid rgba(255,255,255,0.1);
    }
    .sidebar ul li a::before {
      content: ''; position: absolute; top: 0; left: -120%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
      transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1); z-index: -1; opacity: 0;
      transform: skewX(-20deg);
    }
    .sidebar ul li a:hover::before { left: 0; opacity: 1; }
    .sidebar ul li a:hover {
      color: #fff; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      transform: translateX(-10px) scale(1.03);
      box-shadow: 0 10px 25px var(--glow-primary), 0 0 40px var(--glow-secondary);
      border-color: var(--secondary-color);
    }
    .sidebar ul li a.telegram::before, .sidebar ul li a.contact::before, .sidebar ul li a.latest-series::before,
    .sidebar ul li a.most-viewed::before, .sidebar ul li a.top-rated::before, .sidebar ul li a.theme-selector::before {
      content: ''; display: inline-block; width: 28px; height: 28px; margin-right: 20px;
      background-repeat: no-repeat; background-position: center; background-size: contain;
      transition: transform 0.3s ease, filter 0.3s ease;
      filter: drop-shadow(0 0 8px rgba(255,255,255,0.7));
    }
    .sidebar ul li a.telegram::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send"%3E%3Cline x1="22" y1="2" x2="11" y2="13"%3E%3C/line%3E%3Cpolygon points="22 2 15 22 11 13 2 9 22 2"%3E%3C/polygon%3E%3C/svg%3E'); transform: rotate(45deg); }
    .sidebar ul li a.contact::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"%3E%3Cpath d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"%3E%3C/path%3E%3Cpolyline points="22,6 12,13 2,6"%3E%3C/polyline%3E%3C%2Fsvg%3E'); }
    .sidebar ul li a.latest-series::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"%3E%3Crect x="3" y="4" width="18" height="18" rx="2" ry="2"%3E%3C/rect%3E%3Cline x1="16" y1="2" x2="16" y2="6"%3E%3C/line%3E%3Cline x1="8" y1="2" x2="8" y2="6"%3E%3C/line%3E%3Cline x1="3" y1="10" x2="21" y2="10"%3E%3C/line%3E%3C/svg%3E'); }
    .sidebar ul li a.most-viewed::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"%3E%3C/path%3E%3Ccircle cx="12" cy="12" r="3"%3E%3C/circle%3E%3C/svg%3E'); }
    .sidebar ul li a.top-rated::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"%3E%3Cpolygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"%3E%3C/polygon%3E%3C/svg%3E'); }
    .sidebar ul li a.theme-selector::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23f0f0f0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"%3E%3Ccircle cx="12" cy="12" r="5"%3E%3C/circle%3E%3Cline x1="12" y1="1" x2="12" y2="3"%3E%3C/line%3E%3Cline x1="12" y1="21" x2="12" y2="23"%3E%3C/line%3E%3Cline x1="4.22" y1="4.22" x2="5.64" y2="5.64"%3E%3C/line%3E%3Cline x1="18.36" y1="18.36" x2="19.78" y2="19.78"%3E%3C/line%3E%3Cline x1="1" y1="12" x2="3" y2="12"%3E%3C/line%3E%3Cline x1="21" y1="12" x2="23" y2="12"%3E%3C/line%3E%3Cline x1="4.22" y1="19.78" x2="5.64" y2="18.36"%3E%3C/line%3E%3Cline x1="18.36" y1="5.64" x2="19.78" y2="4.22"%3E%3C/line%3E%3C/svg%3E'); }
    .sidebar ul li a:hover.telegram::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send"%3E%3Cline x1="22" y1="2" x2="11" y2="13"%3E%3C/line%3E%3Cpolygon points="22 2 15 22 11 13 2 9 22 2"%3E%3C/polygon%3E%3C/svg%3E'); transform: rotate(45deg) scale(1.15); filter: drop-shadow(0 0 10px #fff); }
    .sidebar ul li a:hover.contact::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"%3E%3Cpath d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"%3E%3C/path%3E%3Cpolyline points="22,6 12,13 2,6"%3E%3Cpolyline%3E%3C/svg%3E'); transform: scale(1.15); filter: drop-shadow(0 0 10px #fff); }
    .sidebar ul li a:hover.latest-series::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"%3E%3Crect x="3" y="4" width="18" height="18" rx="2" ry="2"%3E%3C/rect%3E%3Cline x1="16" y1="2" x2="16" y2="6"%3E%3C/line%3E%3Cline x1="8" y1="2" x2="8" y2="6"%3E%3C/line%3E%3Cline x1="3" y1="10" x2="21" y2="10"%3E%3C/line%3E%3C/svg%3E'); transform: scale(1.15); filter: drop-shadow(0 0 10px #fff); }
    .sidebar ul li a:hover.most-viewed::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"%3E%3C/path%3E%3Ccircle cx="12" cy="12" r="3"%3E%3C/circle%3E%3C/svg%3E'); transform: scale(1.15); filter: drop-shadow(0 0 10px #fff); }
    .sidebar ul li a:hover.top-rated::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"%3E%3Cpolygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"%3E%3C/polygon%3E%3C/svg%3E'); transform: scale(1.15); filter: drop-shadow(0 0 10px #fff); }
    .sidebar ul li a:hover.theme-selector::before { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"%3E%3Ccircle cx="12" cy="12" r="5"%3E%3C/circle%3E%3Cline x1="12" y1="1" x2="12" y2="3"%3E%3C/line%3E%3Cline x1="12" y1="21" x2="12" y2="23"%3E%3C/line%3E%3Cline x1="4.22" y1="4.22" x2="5.64" y2="5.64"%3E%3C/line%3E%3Cline x1="18.36" y1="18.36" x2="19.78" y2="19.78"%3E%3C/line%3E%3Cline x1="1" y1="12" x2="3" y2="12"%3E%3C/line%3E%3Cline x1="21" y1="12" x2="23" y2="12"%3E%3C/line%3E%3Cline x1="4.22" y1="19.78" x2="5.64" y2="18.36"%3E%3C/line%3E%3Cline x1="18.36" y1="5.64" x2="19.78" y2="4.22"%3E%3C/line%3E%3C/svg%3E'); transform: scale(1.15) rotate(90deg); filter: drop-shadow(0 0 10px #fff); }
    .theme-picker {
        display: none; flex-direction: column; padding: 15px; background: var(--dark-bg-secondary);
        border-radius: 12px; margin-top: 15px; box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        border: 1px solid var(--border-color);
    }
    .theme-picker.active { display: flex; }
    .theme-picker h4 {
        color: var(--text-light); margin-top: 0; margin-bottom: 15px; font-size: 18px;
        text-align: center; text-shadow: 0 0 5px rgba(255,255,255,0.3);
    }
    .theme-options { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .theme-option {
        width: 80px; height: 80px; border-radius: 8px; cursor: pointer; display: flex;
        flex-direction: column; justify-content: center; align-items: center; text-align: center;
        font-size: 12px; color: var(--text-light); border: 2px solid transparent;
        transition: all 0.3s ease; box-shadow: 0 4px 10px var(--shadow-dark);
        position: relative; overflow: hidden;
    }
    .theme-option:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 8px 15px var(--glow-primary); }
    .theme-option.active-theme { border-color: var(--secondary-color); box-shadow: 0 0 15px var(--glow-secondary); transform: scale(1.08); }
    .theme-option .color-box { width: 100%; height: 60%; display: flex; border-radius: 6px 6px 0 0; }
    .theme-option .color-box span { flex: 1; height: 100%; }
    .theme-option .theme-name {
        font-size: 13px; font-weight: bold; margin-top: 5px; color: var(--text-light);
        text-shadow: 0 0 5px rgba(0,0,0,0.5);
    }
    .theme-fire .color-box { background: linear-gradient(45deg, #ff3b3b, #ff8c00); }
    .theme-blue .color-box { background: linear-gradient(45deg, #007bff, #66afe9); }
    .theme-green .color-box { background: linear-gradient(45deg, #28a745, #ffc107); }
    .ads-box {
      margin: 20px auto; text-align: center; border: 1px solid var(--border-color);
      border-radius: 10px; padding: 10px; background: var(--card-bg);
      box-shadow: 0 4px 15px var(--shadow-dark);
    }
    @media (max-width: 600px) {
      .ads-box { width: 100%; box-sizing: border-box; padding: 5px; }
    }
    .sidebar-footer {
        margin-top: auto; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);
        text-align: center; font-size: 14px; color: var(--text-muted);
        text-shadow: 0 0 5px rgba(0,0,0,0.5);
    }
    .sidebar-footer a {
        color: var(--secondary-color); text-decoration: none; font-weight: bold;
        transition: color 0.3s ease;
    }
    .sidebar-footer a:hover { color: var(--primary-color); text-decoration: underline; }
    .overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.85); z-index: 1040; opacity: 0; visibility: hidden;
        transition: opacity 0.6s ease-out, visibility 0.6s ease-out; cursor: pointer;
    }
    .overlay.active { opacity: 1; visibility: visible; }
    .content-wrapper { transition: filter 0.6s ease; }
    .content-wrapper.blurred { filter: blur(8px) brightness(0.7); pointer-events: none; }
    .search-container { max-width: 900px; margin: 40px auto 0; padding: 0 20px; position: relative; z-index: 10; }
    .search-box {
      width: 100%; padding: 18px 25px; font-size: 20px; border-radius: 40px;
      border: 3px solid var(--primary-color); background: #111; color: #fff;
      box-shadow: 0 0 20px var(--glow-primary); outline: none;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    .search-box::placeholder { color: var(--text-muted); opacity: 0.8; }
    .search-box:focus {
      box-shadow: 0 0 30px var(--glow-secondary), 0 0 15px var(--glow-primary);
      border-color: var(--secondary-color); transform: scale(1.02); background: #080808;
    }

    /* New: Search Suggestions Bar */
    .search-suggestions {
        position: absolute;
        top: 100%; /* Position below the search input */
        left: 0;
        right: 0;
        background: var(--card-bg);
        border-radius: 15px;
        box-shadow: 0 10px 30px var(--shadow-dark);
        margin-top: 15px;
        max-height: 300px;
        overflow-y: auto;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-20px);
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        border: 2px solid var(--primary-color);
        z-index: 9; /* Ensure it's above other content but below header */
        padding: 10px;
    }
    .search-suggestions.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
    .suggestion-item {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        color: var(--text-light);
        text-decoration: none;
        border-radius: 10px;
        margin-bottom: 5px;
        transition: background 0.2s ease, transform 0.2s ease;
        font-weight: 600;
        cursor: pointer;
    }
    .suggestion-item:last-child {
        margin-bottom: 0;
    }
    .suggestion-item:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(5px);
        color: var(--primary-color);
    }
    .suggestion-item img {
        width: 50px;
        height: 70px;
        object-fit: cover;
        border-radius: 8px;
        margin-left: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }
    .suggestion-item span {
        flex-grow: 1;
        text-shadow: 0 0 5px rgba(255,255,255,0.3);
    }
    .no-results-message {
        color: var(--text-muted);
        text-align: center;
        padding: 20px;
        font-size: 16px;
    }

    .series-container {
      max-width: 980px; margin: 50px auto 80px; display: grid;
      grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
      gap: 30px; padding: 0 25px; position: relative; z-index: 5;
    }
    .series-card {
      background: var(--card-gradient); border-radius: 20px; overflow: visible;
      cursor: pointer; display: flex; flex-direction: column; justify-content: space-between;
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.5s ease, background 0.6s ease, z-index 0s ease 0.5s; /* Added z-index transition */
      position: relative; z-index: 1; box-shadow: 0 8px 20px var(--shadow-dark); opacity: 0;
      transform: translateY(30px); border: 2px solid rgba(255,255,255,0.05);
    }
    .series-card.visible { opacity: 1; transform: translateY(0); }
    .series-card:hover {
      transform: translateY(-12px) scale(1.05);
      box-shadow: 0 15px 40px var(--glow-primary), 0 0 25px var(--glow-secondary);
      z-index: 10; border-color: var(--primary-color);
    }
    /* New: Higher z-index for the active card */
    .series-card.active-episodes {
        z-index: 1001; /* Ensure it's above other cards */
        transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.5s ease, background 0.6s ease, z-index 0s ease; /* Z-index changes immediately */
    }

    .series-card img {
      width: 100%; height: 250px; object-fit: cover; display: block;
      border-radius: 18px 18px 0 0; filter: brightness(0.95); transition: filter 0.3s ease;
    }
    .series-card:hover img { filter: brightness(1.1); }
    .series-card-title {
      padding: 15px 12px; text-align: center; font-size: 18px; font-weight: 700;
      color: var(--text-light); text-shadow: 0 0 8px rgba(255,255,255,0.7);
    }
    .new-episode-indicator {
        position: absolute; top: 10px; right: 10px; background: var(--new-episode-indicator-bg);
        color: white; padding: 5px 10px; border-radius: 8px; font-size: 13px; font-weight: bold;
        animation: pulse 1.5s infinite alternate; box-shadow: 0 0 15px var(--new-episode-glow);
        z-index: 2; border: 1px solid #fff;
    }
    @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.05); opacity: 0.9; } }
    .category-badge {
        position: absolute; top: 25px; left: -10px;
        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        color: white; padding: 6px 15px; border-radius: 0 10px 10px 0; font-size: 14px;
        font-weight: bold; transform: rotate(-5deg); transform-origin: top left;
        box-shadow: 5px 5px 15px rgba(0,0,0,0.5); z-index: 3; border-left: 3px solid #fff;
        text-shadow: 0 0 5px rgba(0,0,0,0.5);
    }
    .stats-section {
      display: flex; justify-content: space-around; align-items: center; padding: 10px 15px;
      background: linear-gradient(90deg, #100000, #200000); border-top: 2px solid var(--primary-color);
      border-radius: 0 0 20px 20px; font-size: 15px; height: 70px;
      transition: background 0.6s ease, border-color 0.6s ease;
    }
    body.blue-theme .stats-section { background: linear-gradient(90deg, #101825, #1a2430); }
    body.green-theme .stats-section { background: linear-gradient(90deg, #2a2a2a, #353535); }
    .stat-item {
      display: flex; flex-direction: column; align-items: center; color: var(--text-muted);
      font-weight: 600; gap: 5px;
    }
    .stat-item .icon-and-count { display: flex; align-items: center; gap: 8px; }
    .stat-item svg {
        width: 22px; height: 22px; fill: var(--text-muted);
        transition: fill 0.3s ease, transform 0.3s ease;
        filter: drop-shadow(0 0 5px rgba(255,255,255,0.3));
    }
    .stat-item .count {
        font-size: 17px; color: var(--text-light); font-weight: 700;
        text-shadow: 0 0 5px rgba(255,255,255,0.5);
    }
    .stat-item .label { font-size: 13px; color: var(--text-muted); text-align: center; margin-top: 3px; }
    .like-button {
      cursor: pointer; user-select: none; transition: transform 0.2s ease, filter 0.2s ease;
    }
    .like-button:hover { transform: scale(1.2); filter: brightness(1.2); }
    .like-button.liked svg {
      fill: var(--primary-color); filter: drop-shadow(0 0 10px var(--glow-primary));
    }
    .like-button.liked .count { color: var(--primary-color); text-shadow: 0 0 10px var(--glow-primary); }
    .like-button.liked .label { color: var(--primary-color); }
    .episodes {
      position: absolute; width: calc(100% + 20px); left: -10px; background: var(--episodes-gradient);
      padding: 20px; border-radius: 0 0 20px 20px; box-shadow: 0 12px 35px var(--shadow-dark);
      z-index: 1000; visibility: hidden; opacity: 0;
      transition: opacity 0.5s ease, visibility 0.5s ease, top 0.5s ease, background 0.6s ease, border-color 0.6s ease;
      max-height: 450px; overflow-y: auto; border-top: 3px solid var(--secondary-color);
      display: flex; /* Added for flexbox layout */
      flex-direction: column; /* Stack items vertically */
      gap: 12px; /* Space between episode links */
    }
    .episodes.show { visibility: visible; opacity: 1; }
    .episodes::-webkit-scrollbar { width: 10px; }
    .episodes::-webkit-scrollbar-track { background: #333; border-radius: 10px; }
    .episodes::-webkit-scrollbar-thumb {
        background: var(--primary-color); border-radius: 10px; box-shadow: 0 0 8px var(--glow-primary);
    }
    .episodes::-webkit-scrollbar-thumb:hover { background: var(--secondary-color); box-shadow: 0 0 10px var(--glow-secondary); }
    
    /* New: Episodes header styling */
    .episodes h3 {
        color: var(--text-light);
        text-align: center;
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 22px;
        font-weight: 700;
        text-shadow: 0 0 10px rgba(255,255,255,0.6);
        border-bottom: 2px solid var(--primary-color);
        padding-bottom: 10px;
    }

    .episodes a {
      display: flex; align-items: center; justify-content: space-between; color: var(--text-light);
      background: var(--episode-link-bg); padding: 15px 20px; /* margin-bottom: 12px; Removed, using gap now */
      border-radius: 10px; text-decoration: none; font-size: 17px;
      transition: all 0.3s ease, background 0.6s ease, border-color 0.6s ease;
      box-shadow: 0 4px 12px var(--shadow-light); position: relative; border: 1px solid rgba(255,255,255,0.05);
      font-weight: 600; /* Added for stronger text */
    }
    .episodes a.new-episode-link { background: linear-gradient(90deg, #500000, #3a1111); border: 2px solid var(--primary-color); animation: newEpisodePulse 2s infinite ease-in-out; }
    body.blue-theme .episodes a.new-episode-link { background: linear-gradient(90deg, #0a1118, #1a2736); border: 2px solid var(--primary-color); }
    body.green-theme .episodes a.new-episode-link { background: linear-gradient(90deg, #2a2a2a, #3a3a3a); border: 2px solid var(--primary-color); }
    @keyframes newEpisodePulse {
        0% { border-color: var(--primary-color); box-shadow: 0 0 10px var(--glow-primary); }
        50% { border-color: var(--secondary-color); box-shadow: 0 0 20px var(--glow-secondary); }
        100% { border-color: var(--primary-color); box-shadow: 0 0 10px var(--glow-primary); }
    }
    .episodes a:last-child { margin-bottom: 0; }
    .episodes a:hover {
      background: var(--episode-link-hover-gradient); color: #fff; transform: translateX(-8px) scale(1.01);
      box-shadow: 0 6px 18px var(--glow-primary); border-color: var(--secondary-color);
    }
    .episodes a::before {
      content: ''; width: 28px; height: 28px; display: inline-block; margin-left: 15px;
      background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%20fill%3D%22%2523f0f0f0%22%3E%3Cpath%20d%3D%22M320-200v-560l440%20280-440%20280Zm80-280Zm0%20130%20200-130-200-130v260Z%22%2F%3E%3C%2Fsvg%3E');
      background-size: contain; background-repeat: no-repeat; vertical-align: middle;
      filter: drop-shadow(0 0 5px rgba(255,255,255,0.5));
    }
    .episodes a:hover::before {
        background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%20fill%3D%22%2523ffffff%22%3E%3Cpath%20d%3D%22M320-200v-560l440%20280-440%20280Zm80-280Zm0%20130%20200-130-200-130v260Z%22%2F%3E%3C%2Fsvg%3E');
        transform: scale(1.1); filter: drop-shadow(0 0 10px #fff);
    }
    .episode-link-initial { opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-out, transform 0.5s ease-out; }
    .episode-link-fade-in { opacity: 1; transform: translateY(0); }
    .video-player-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.95); display: flex; justify-content: center;
        align-items: center; z-index: 2000; opacity: 0; visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
    }
    .video-player-overlay.active { opacity: 1; visibility: visible; }
    .video-player-container {
        position: relative; width: 90%; max-width: 960px; aspect-ratio: 16 / 9;
        background: var(--dark-bg-secondary); border-radius: 15px;
        box-shadow: 0 0 40px rgba(0,0,0,0.8), 0 0 20px var(--glow-primary);
        transform: scale(0.8); opacity: 0;
        transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease;
        border: 2px solid var(--primary-color); display: flex; justify-content: center; align-items: center;
    }
    .video-player-overlay.active .video-player-container { transform: scale(1); opacity: 1; }
    .video-player-iframe { width: 100%; height: 100%; border: none; border-radius: 12px; }
    .video-player-close {
        position: absolute; top: -20px; right: -20px; background: var(--primary-color);
        color: #fff; border-radius: 50%; width: 45px; height: 45px; display: flex;
        justify-content: center; align-items: center; font-size: 30px; font-weight: bold;
        cursor: pointer; z-index: 2001;
        box-shadow: 0 0 15px var(--glow-primary), 0 0 8px rgba(255,255,255,0.7);
        transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    }
    .video-player-close:hover {
        transform: scale(1.1) rotate(90deg); background: var(--secondary-color);
        box-shadow: 0 0 20px var(--glow-secondary), 0 0 10px #fff;
    }
    @media (min-width: 768px) {
      .header { padding: 25px 30px; font-size: 38px; }
      .hamburger { top: 30px; right: 30px; width: 42px; height: 36px; }
      .hamburger span { height: 5px; }
      .sidebar { width: 350px; padding: 100px 40px 40px; }
      .sidebar .close-btn { top: 40px; left: 40px; font-size: 50px; width: 55px; height: 55px; }
      .sidebar ul li a { font-size: 24px; padding: 18px 30px; }
      .sidebar ul li a.telegram::before, .sidebar ul li a.contact::before, .sidebar ul li a.latest-series::before,
      .sidebar ul li a.most-viewed::before, .sidebar ul li a.top-rated::before, .sidebar ul li a.theme-selector::before { width: 32px; height: 32px; }
      .sidebar-logo { max-width: 280px; }
      .search-container { margin: 50px auto 0; }
      .search-box { padding: 20px 30px; font-size: 22px; }
      .series-container { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 40px; padding: 0 30px; }
      .series-card { border-radius: 25px; }
      .series-card img { height: 280px; border-radius: 22px 22px 0 0; }
      .series-card-title { padding: 18px 15px; font-size: 20px; }
      .stats-section { padding: 12px 18px; font-size: 16px; height: 75px; }
      .stat-item svg { width: 25px; height: 25px; }
      .stat-item .count { font-size: 18px; }
      .stat-item .label { font-size: 14px; }
      .episodes { padding: 25px; border-radius: 0 0 25px 25px; }
      .episodes a { padding: 18px 25px; font-size: 20px; border-radius: 12px; }
      .episodes a::before { width: 32px; height: 32px; }

      .search-suggestions {
        max-height: 400px;
        padding: 15px;
      }
      .suggestion-item {
        padding: 15px 20px;
        font-size: 18px;
      }
      .suggestion-item img {
        width: 60px;
        height: 80px;
      }
    }
    @media (min-width: 1200px) {
        .series-container { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); }
    }
    
    /* --- تنسيقات السلايدر الجديدة (مضافة هنا) --- */
    .hero-slider-container {
        width: 100%;
        height: 500px; /* ارتفاع أعلى للسلايدر لتوفير مساحة للتصميم */
        position: relative;
        margin-bottom: 50px;
        box-shadow: 0 15px 50px var(--shadow-dark);
        border-radius: 25px;
        overflow: hidden;
        margin-top: -30px;
        border: 4px solid var(--primary-color);
        transform: translateZ(0); /* لضمان عمل Parallax في بعض المتصفحات */
    }
    @media (max-width: 768px) {
        .hero-slider-container {
            height: 350px;
            margin-top: -20px;
            border-radius: 15px;
            border-width: 3px;
        }
    }
    @media (max-width: 480px) {
        .hero-slider-container {
            height: 280px;
            border-radius: 10px;
            border-width: 2px;
        }
    }

    .hero-slider-wrapper {
        display: flex;
        height: 100%;
        transition: transform 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* حركة أطول وأكثر سلاسة */
    }

    .hero-slide {
        min-width: 100%;
        position: relative; /* لطبقة التراكب والمحتوى */
        overflow: hidden; /* لإخفاء أي جزء زائد من صورة الخلفية Parallax */
    }

    .hero-slide-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        transform: scale(1.05); /* تكبير الصورة قليلاً لتأثير البارالاكس */
        transition: transform 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* حركة البارالاكس */
    }
    /* عند تفعيل الشريحة، تعود الصورة لحجمها الطبيعي لتأثير البارالاكس */
    .hero-slide.active .hero-slide-bg {
        transform: scale(1);
    }
    /* عند مغادرة الشريحة، تعود الصورة لتكبيرها */
    .hero-slide:not(.active) .hero-slide-bg {
        transform: scale(1.05);
    }


    .hero-slider-overlay-content {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.2) 70%, rgba(0,0,0,0) 100%);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-start;
        padding: 60px 80px; /* مسافة داخلية أكبر */
        box-sizing: border-box;
        text-align: right; /* محاذاة النص لليمين */
        opacity: 0; /* يبدأ مخفيًا */
        transform: translateY(20px); /* يبدأ من الأسفل قليلاً */
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }
    .hero-slide.active .hero-slider-overlay-content {
        opacity: 1; /* يظهر المحتوى */
        transform: translateY(0); /* يعود لموقعه */
    }

    /* تأخير ظهور العناصر داخل المحتوى */
    .hero-slide.active .hero-slider-title { transition-delay: 0.3s; }
    .hero-slide.active .hero-slider-description { transition-delay: 0.5s; }
    .hero-slide.active .hero-slider-button { transition-delay: 0.7s; }

    @media (max-width: 768px) {
        .hero-slider-overlay-content {
            padding: 30px;
            align-items: center; /* محاذاة للوسط على الجوال */
            text-align: center;
        }
    }
    @media (max-width: 480px) {
        .hero-slider-overlay-content {
            padding: 20px;
        }
    }

    .hero-slider-title {
        font-family: 'Cairo', sans-serif;
        font-size: 4em; /* حجم أكبر */
        margin-bottom: 15px;
        font-weight: 900; /* خط أثقل */
        color: #fff;
        text-shadow: 0 0 30px var(--glow-primary), 0 0 15px rgba(255,255,255,0.8);
        line-height: 1.1;
        opacity: 0; /* للحركة */
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    @media (max-width: 768px) {
        .hero-slider-title {
            font-size: 2.8em;
            margin-bottom: 10px;
        }
    }
    @media (max-width: 480px) {
        .hero-slider-title {
            font-size: 2em;
        }
    }

    .hero-slider-description {
        font-family: 'Cairo', sans-serif;
        font-size: 1.6em; /* حجم أكبر */
        max-width: 80%; /* عرض أكبر للوصف */
        margin-bottom: 30px;
        line-height: 1.5;
        color: var(--text-light);
        text-shadow: 0 0 12px rgba(255,255,255,0.5);
        opacity: 0; /* للحركة */
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    @media (max-width: 768px) {
        .hero-slider-description {
            font-size: 1.1em;
            max-width: 90%;
            margin-bottom: 20px;
        }
    }
    @media (max-width: 480px) {
        .hero-slider-description {
            font-size: 1em;
            max-width: 95%;
        }
    }

    .hero-slider-button {
        background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        color: white;
        padding: 18px 40px; /* حجم زر أكبر */
        text-decoration: none;
        border-radius: 12px; /* حواف أكثر دائرية */
        font-size: 1.3em;
        font-weight: bold;
        transition: all 0.4s ease;
        box-shadow: 0 8px 25px rgba(0,0,0,0.7), 0 0 15px var(--glow-primary);
        border: 3px solid transparent; /* إطار أثقل */
        text-transform: uppercase;
        letter-spacing: 1px;
        opacity: 0; /* للحركة */
        transform: translateY(20px);
    }

    .hero-slider-button:hover {
        background: linear-gradient(90deg, var(--secondary-color) 0%, var(--primary-color) 100%);
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 12px 35px rgba(0,0,0,0.9), 0 0 20px var(--glow-secondary);
        border-color: #fff;
    }

    /* أزرار التنقل (السهمين) */
    .hero-slider-nav-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0,0,0,0.6); /* خلفية أغمق */
        color: white;
        border: none;
        padding: 12px 18px;
        cursor: pointer;
        font-size: 2.5em; /* حجم أكبر للسهم */
        z-index: 10;
        border-radius: 50%;
        width: 60px; /* حجم زر أكبر */
        height: 60px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: background 0.4s ease, transform 0.4s ease, box-shadow 0.4s ease;
        text-shadow: 0 0 15px rgba(255,255,255,0.7);
        border: 2px solid rgba(255,255,255,0.3);
    }

    .hero-slider-nav-button:hover {
        background: rgba(0,0,0,0.9);
        transform: translateY(-50%) scale(1.15);
        box-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 30px var(--glow-primary);
        border-color: var(--primary-color);
    }

    .hero-slider-prev {
        right: 25px; /* مسافة أكبر من الحافة */
    }

    .hero-slider-next {
        left: 25px; /* مسافة أكبر من الحافة */
    }
    @media (max-width: 600px) {
      .hero-slider-nav-button {
        display: none !important;
      }
    }

    /* مؤشرات الصفحات (النقاط) */
    .hero-slider-pagination {
        position: absolute;
        bottom: 30px; /* مسافة أكبر من الأسفل */
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 12px; /* مسافة أكبر بين النقاط */
        z-index: 10;
        background: rgba(0,0,0,0.3);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 0 15px rgba(0,0,0,0.5);
    }

    .hero-slider-pagination-dot {
        width: 14px; /* حجم نقطة أكبر */
        height: 14px;
        background-color: #ffffff;
        border-radius: 50%;
        cursor: pointer;
        opacity: 0.6;
        transition: all 0.3s ease;
        border: 2px solid rgba(255,255,255,0.5);
    }

    .hero-slider-pagination-dot.active {
        background-color: var(--primary-color);
        opacity: 1;
        transform: scale(1.4);
        box-shadow: 0 0 15px var(--glow-primary), 0 0 8px #fff;
        border-color: var(--secondary-color);
    }
    /* --- نهاية تنسيقات السلايدر الجديدة --- */
    
  ]]></b:skin>
</head>
<body class="fire-theme"> 
  <div id="loader">
    <div class="spinner"></div>
    <p>جاري تحميل المسلسلات... استعد للمتعة!</p>
  </div>
  <div class="hamburger" id="hamburgerBtn" aria-label="فتح القائمة الجانبية" role="button" tabindex="0">
    <span></span><span></span><span></span>
  </div>
  <nav class="sidebar" id="sidebar" aria-label="القائمة الجانبية">
    <img src="https://l.top4top.io/p_3472qtqft0.png" alt="لوغو حكايتنا - مسلسلات تركية" class="sidebar-logo" />
    <span class="close-btn" id="closeSidebar" role="button" tabindex="0" aria-label="إغلاق القائمة">×</span>
    <ul>
      <li><a href="javascript:void(0);" id="latestSeriesLink" class="latest-series">آخر المسلسلات</a></li>
      <li><a href="javascript:void(0);" id="mostViewedLink" class="most-viewed">الأكثر مشاهدة</a></li>
      <li><a href="javascript:void(0);" id="topRatedLink" class="top-rated">الأعلى تقييمًا</a></li>
      <li><a href="javascript:void(0);" id="themeSelectorLink" class="theme-selector">اختيار الثيم</a></li>
      <div class="theme-picker" id="themePicker">
          <h4>اختر ثيمًا:</h4>
          <div class="theme-options">
              <div class="theme-option theme-fire" data-theme="fire-theme"><div class="color-box"></div><span class="theme-name">الناري</span></div>
              <div class="theme-option theme-blue" data-theme="blue-theme"><div class="color-box"></div><span class="theme-name">الأزرق البارد</span></div>
              <div class="theme-option theme-green" data-theme="green-theme"><div class="color-box"></div><span class="theme-name">الغامق الأخضر</span></div>
          </div>
      </div>
      <li><a href="https://t.me/a_sq9" target="_blank" rel="noopener noreferrer" class="telegram">قناة تلجرام</a></li>
      <li><a href="https://t.me/loguxj" target="_blank" rel="noopener noreferrer" class="contact">تواصل معنا</a></li>
    </ul>
    <div class="sidebar-footer">
        © <span id="currentYear"></span> حكايتنا. جميع الحقوق محفوظة.
    </div>
  </nav>
  <div class="overlay" id="overlay"></div>
  <div class="content-wrapper" id="contentWrapper">
    <h1 class="header">حكايتنا • مسلسلات تركية</h1>
    <div class="hero-slider-container">
        <div class="hero-slider-wrapper" id="hero-slider-wrapper">
            </div>
        <button class="hero-slider-nav-button hero-slider-prev" id="hero-slider-prev">❮</button>
        <button class="hero-slider-nav-button hero-slider-next" id="hero-slider-next">❯</button>
        <div class="hero-slider-pagination" id="hero-slider-pagination">
            </div>
    </div>
    <div class="search-container">
      <input type="text" id="searchInput" class="search-box" placeholder="ابحث عن مسلسل..." autocomplete="off" aria-label="ابحث عن مسلسل"/>
      <div class="search-suggestions" id="searchSuggestions"></div>
    </div>
    <div class="ads-box" id="adBox1" aria-label="إعلانات الموقع">
      <p style="color:var(--text-muted); font-size:14px; margin-bottom: 5px;">مساحة إعلانية</p>
      <script type="text/javascript">
        atOptions = { 'key' : '6afdb390833de871fae19db104b9783d', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/6afdb390833de871fae19db104b9783d/invoke.js"></script>
    </div>
    <h2 style="color:var(--text-light); text-align:center; margin-top:40px; margin-bottom:20px; font-size:28px; text-shadow: 0 0 10px rgba(255,255,255,0.5);">أحدث المسلسلات التركية</h2>
    <div class="series-container" id="seriesContainer"></div>
    <div class="ads-box" id="adBox2" aria-label="إعلانات الموقع">
      <p style="color:var(--text-muted); font-size:14px; margin-bottom: 5px;">مساحة إعلانية</p>
      <script type="text/javascript">
        atOptions = { 'key' : 'fa91666bd323d4f800c7e90787b7a858', 'format' : 'iframe', 'height' : 300, 'width' : 160, 'params' : {} };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/fa91666bd323d4f800c7e90787b7a858/invoke.js"></script>
    </div>
    <div class="ads-box" id="adBox3" aria-label="إعلانات الموقع">
      <p style="color:var(--text-muted); font-size:14px; margin-bottom: 5px;">مساحة إعلانية</p>
      <script type="text/javascript">
        atOptions = { 'key' : '36dbf13da4ae100c4f10bdcf2070f943', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/36dbf13da4ae100c4f10bdcf2070f943/invoke.js"></script>
    </div>
  </div>
  <div class="video-player-overlay" id="videoPlayerOverlay">
      <div class="video-player-container">
          <span class="video-player-close" id="videoPlayerClose">×</span>
          <iframe id="videoPlayerIframe" class="video-player-iframe" allowfullscreen="true" frameborder="0" scrolling="no" referrerpolicy="no-referrer"></iframe>
      </div>
  </div>
<script type="module">
  //<![CDATA[
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getDatabase, ref, get, runTransaction } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCEaxXR5eqzg0e5JvjWAFjZ5ZeMraMYREn", authDomain: "mo-play-b0cb7.firebaseapp.com",
      databaseURL: "https://mo-play-b0cb7-default-rtdb.firebaseio.com", projectId: "mo-play-b0cb7",
      storageBucket: "mo-play-b0cb7.firebasestorage.app", messagingSenderId: "575424024738",
      appId: "1:575424024738:web:0b1736c0c2e496adf607fb", measurementId: "G-33QRGFTW30"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const seriesRef = ref(db, 'series');
    const sliderRef = ref(db, 'sliderItems');
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const sidebar = document.getElementById('sidebar');
    const closeSidebarBtn = document.getElementById('closeSidebar');
    const contentWrapper = document.getElementById('contentWrapper');
    const loader = document.getElementById('loader');
    const overlay = document.getElementById('overlay');
    const searchInput = document.getElementById('searchInput');
    const searchSuggestions = document.getElementById('searchSuggestions');
    const latestSeriesLink = document.getElementById('latestSeriesLink');
    const mostViewedLink = document.getElementById('mostViewedLink');
    const topRatedLink = document.getElementById('topRatedLink');
    const themeSelectorLink = document.getElementById('themeSelectorLink');
    const themePicker = document.getElementById('themePicker');
    const themeOptions = document.querySelectorAll('.theme-option');   
    const videoPlayerOverlay = document.getElementById('videoPlayerOverlay');
    const videoPlayerIframe = document.getElementById('videoPlayerIframe');
    const videoPlayerClose = document.getElementById('videoPlayerClose');
    
    // عناصر السلايدر الجديدة
    const heroSliderContainer = document.querySelector('.hero-slider-container');
    const heroSliderWrapper = document.getElementById('hero-slider-wrapper');
    const heroSliderPrevBtn = document.getElementById('hero-slider-prev');
    const heroSliderNextBtn = document.getElementById('hero-slider-next');
    const heroSliderPagination = document.getElementById('hero-slider-pagination');

    let allSeriesData = [];
    let currentOpenEpisodes = null;
    let currentOpenCard = null;
    let fuse;

    // متغيرات السلايدر الجديد
    let currentSlideIndex = 0;
    let sliderInterval;
    let sliderItemsData = [];


    function toggleSidebar() {
      hamburgerBtn.classList.toggle('open'); sidebar.classList.toggle('open');
      overlay.classList.toggle('active'); contentWrapper.classList.toggle('blurred');
      if (!sidebar.classList.contains('open')) {
          contentWrapper.classList.remove('blurred'); themePicker.classList.remove('active');
      }
    }
    hamburgerBtn.addEventListener('click', toggleSidebar);
    closeSidebarBtn.addEventListener('click', toggleSidebar);
    overlay.addEventListener('click', toggleSidebar);
    document.addEventListener('keydown', e => { if (e.key === "Escape" && sidebar.classList.contains('open')) { toggleSidebar(); } });
    
    function normalizeTitle(title) {
        return title.trim().toLowerCase().replace(/^(مسلسل|مسلسلات)\s*/, '');
    }

    function formatCount(count) {
        if (count < 1000) { return count.toString(); }
        else if (count < 1000000) { return `${(count / 1000).toFixed(1).replace(/\.0$/, '')}K`; }
        else { return `${(count / 1000000).toFixed(1).replace(/\.0$/, '')}M`; }
    }
    function prepareSeriesData(seriesObjectsFromFirebase) {
      const likedSeriesIds = JSON.parse(localStorage.getItem('liked_series_ids') || '[]');
      const seriesArray = Object.keys(seriesObjectsFromFirebase).map(key => {
        const series = seriesObjectsFromFirebase[key];
        const likes = series.likes || 0;
        const views = series.views || 0;
        const episodes = series.episodes || [];
        const category = series.category || 'عام';
        let latestEpisodeDate = 0;
        episodes.forEach(ep => {
            if (ep.updatedAt) {
                const date = new Date(ep.updatedAt);
                if (date.getTime() > latestEpisodeDate) {
                    latestEpisodeDate = date.getTime();
                }
            }
        });
        return {
          ...series, safeTitle: key, 
          normalizedTitle: normalizeTitle(series.title), 
          likes: likes, views: views, episodes: episodes, likedByUser: likedSeriesIds.includes(key),
          lastUpdated: latestEpisodeDate, category: category
        };
      });
      seriesArray.sort((a, b) => {
        if (b.likes !== a.likes) { return b.likes - a.likes; }
        return b.views - a.views;
      });
      return seriesArray;
    }

    function renderSeries(seriesToRender) {
      const container = document.getElementById('seriesContainer');
      container.innerHTML = '';

      if (seriesToRender.length === 0) {
        container.innerHTML = '<p style="color:var(--text-muted); text-align:center; font-size:20px; padding:50px;">لا توجد مسلسلات مطابقة للبحث.</p>';
        return;
      }
      seriesToRender.forEach((series, index) => {
        const card = document.createElement('div');
        card.className = 'series-card';
        card.setAttribute('data-series-id', series.safeTitle);
        card.setAttribute('data-series-index', index);
        card.style.transitionDelay = `${index * 0.05}s`;
        const hasNewEpisode = series.episodes && series.episodes.some(ep => ep.isNew === true);
        const newEpisodeIndicator = hasNewEpisode ? `<div class="new-episode-indicator">حلقة جديدة!</div>` : '';
        const categoryBadge = series.category ? `<div class="category-badge">${series.category}</div>` : '';
        const episodesHtml = (series.episodes && Array.isArray(series.episodes) && series.episodes.length > 0)
          ? `<h3>جميع الحلقات</h3>` + series.episodes.map((ep, i) => {
                const linkClass = `episode-link-initial ${ep.isNew ? 'new-episode-link' : ''}`;
                const linkStyle = `transition-delay: ${i * 0.05}s;`;
                return `<a href="javascript:void(0);" data-video-url="${encodeURI(ep.link || '')}" aria-label="رابط الحلقة ${ep.title}" class="${linkClass}" style="${linkStyle}">${ep.title}</a>`;
            }).join('')
          : '<p style="text-align:center;color:var(--text-muted);font-size:16px;padding:20px;">لا توجد حلقات متاحة حالياً. تابعونا!</p>';
        const escapedSeriesImage = series.image ? series.image.replace(/&/g, '&amp;') : '';
        card.innerHTML = `
          ${newEpisodeIndicator}
          ${categoryBadge} <img src="${escapedSeriesImage}" alt="${series.title} - بوستر المسلسل" />
          <div class="series-card-title">${series.title}</div>
          <div class="stats-section">
            <div class="stat-item views-item">
                <div class="icon-and-count">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M480-320q-75 0-127.5-52.5T300-500q0-75 52.5-127.5T480-680q75 0 127.5 52.5T660-500q0 75-52.5 127.5T480-320Zm0-80q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Zm0 317Q220-213 110-348.5T0-500q0-151 110-286.5T480-787q260 0 370 135.5T960-500q0 151-110 286.5T480-213Zm0-290Zm0 210q174 0 297-106.5T860-500q-123-103-297-210T100-500q123 103 297 210Z"/></svg>
                    <span class="count views-count">${formatCount(series.views)}</span>
                </div>
                <span class="label">مشاهدة</span>
            </div>
            <div class="stat-item like-button ${series.likedByUser ? 'liked' : ''}" role="
